#labels Featured
== Introduction ==

G02.ME functionality is available to programmers through a JSON/Javascript API.  Most of the URL's that are supported by the user-interface have a JSON-equivalent request.

All requests are of the form:

{{{
http://g02.me/...?callback=MyCallback
}}}

to which the response will look like:

{{{
MyCallback({status:"OK", ...});
}}}

Static requests can be inserted in a web page via:

{{{
<script>
function MyCallback(obj)
{
    ... your code here ...
}
</script>
<script src="http://g02.me/...?callback=MyCallback"></script>
}}}

== Concepts ==

G02.ME stored shorted URL's and collects analytics information about user interactions with those shortened URL's.  Each shortened URL is assigned an _id_ (which is encoded as a base-64 number using the digits, letters and the characters "-" and "_").

=== URL Format ===

Each URL has the following information that can be retrieved about it:

  * url: The _long_ URL
  * id: The base-64 identifier for the shortened URL
  * title: The page title
  * viewed: Total number of times the G02.ME URL has been accesssed/viewed
  * shared: Total number of times users have shared this URL (mapped the full URL to it's shortcut).
  * scores: A collection of time-weighted scores based on the total activity surrounding the URL.
  * comments: A collection of user comments about the shared URL.

=== Comments ===

Comments are entered in the API (and user interface) as a formatted string:

  username: comment string [tag1, tag2]

The API returns an array of comment objects with the parts extracted into distinct properties:

  * comment: The text portion of the comment string
  * user: The user name associated with the comment
  * tags: A comma separated list of tags

=== Scores ===

Each URL has a collection of _scores_ associated with it, that represent a time-weighted sum of the total user activity surrounding each URL.  Scores are average hourly rates over the given time period that represent the sum of scores for various user actions:

  * Share a URL: 3 points
  * Comment on a URL: 2 points
  * View a URL: 1 point

{{{
{day: 0.1138,
 week: 0.0164,
 month: 0.0037,
 year: 0.0026
}
}}}

Over time, without additional activity, the scores will be reduced by a factor or 2 (two) over each time period (the _half life_).

== Methods ==

|| URL || Description ||
|| /info/id || Retrieve information about a shortened URL id. ||
|| /map/?url=...&title=... || Generate a shorted URL from a long one. ||
|| /comment/?id=xxx&comment=text-string || Add a comment to the URL with id, xxx ||

== Examples ==

http://g02.me/info/G?callback=Test

Results:
{{{
Test({"status": "OK",
  "created": new Date("10/16/2008 15:35 GMT"),
  "url": "http://www.google.com/",
  "title": "Google",
  "comments": [
    {"comment": "The mighty search engine...", "user": "mckoss"},
    {"comment": "I like Google"}
    ],
  "shared": 7,
  "id": "G",
  "viewed": 48});
}}}

http://g02.me/map/?url=http://code.google.com/p/g02me/wiki/API&title=Edit%20API-g02me&callback=Test

Results:
{{{
Test({"status": "OK",
  "created": new Date("10/16/2008 21:57 GMT"),
  "url": "http://code.google.com/p/g02me/wiki/API",
  "title": "API - g02me - Google Code",
  "comments": [
    {"comment": "I working on the JSON API docs now...", "user": "mckoss"}
  ],
  "shared": 3,
  "id": "1g",
  "viewed": 3});
}}}

http://g02.me/comment/?id=G&comment=test:This%20is%20a%20test%20comment%20%5Bsearch%2C%20engine%5D&callback=Test
{{{
Test({"status": "OK",
  "created": new Date("10/16/2008 22:19 GMT"),
  "url": "http://www.google.com/",
  "title": "Google",
  "comments": [
    {"comment": "The mighty search engine...", "user": "mckoss"},
    {"comment": "I like Google"},
    {"comment": "This is test of tags", "user": "mckoss", "tags": "search engine,search"},
    {"comment": "test comment", "user": "mckoss"},
    {"comment": "this is another comment via REST call"},
    {"comment": "This is a test comment", "user": "test", "tags": "search,engine"}
  ],
  "shared": 7,
  "id": "G",
  "viewed": 66});
}}}